/*
 * This is a manifest file that'll be compiled into application.css, which will include all the files
 * listed below.
 *
 * Any CSS (and SCSS, if configured) file within this directory, lib/assets/stylesheets, or any plugin's
 * vendor/assets/stylesheets directory can be referenced here using a relative path.
 *
 * You're free to add application-wide styles to this file and they'll appear at the bottom of the
 * compiled file so the styles you add here take precedence over styles defined in any other CSS
 * files in this directory. Styles in this file should be added after the last require_* statement.
 * It is generally better to create a new file per style scope.
 *
 *= require_tree .
 *= require_self
 */
 <div class="container">
  <h1>カラー予想入力</h1>

  <%= form_with model: @prediction, local: true do |f| %>
    
    <%# もしEvent（イベント）との紐付けが必要なら、ここで隠しフィールドなどで送ります %>
    <%= f.hidden_field :event_id, value: 1 %> 

    <div class="prediction-list">
      <%= f.fields_for :ranking_items do |item_f| %>
        <div class="prediction-row">
          <span class="rank-label"><%= item_f.index + 1 %>番目</span>
          
          <div class="swatches">
            <%# ここに並べる色は、画面遷移図にある色を選んでください %>
            <% ["#FF0000", "#00FF00", "#0000FF", "#FFFF00", "#FF00FF"].each do |color| %>
              <label class="swatch-item">
                <%= item_f.radio_button :color_code, color, class: "swatch-radio" %>
                <span class="swatch-color" style="background-color: <%= color %>;"></span>
              </label>
            <% end %>
          </div>
          
          <%# 順位を自動でセット %>
          <%= item_f.hidden_field :rank, value: item_f.index + 1 %>
        </div>
      <% end %>
    </div>

    <%= f.submit "予想を保存する", class: "submit-btn" %>
  <% end %>
</div>
